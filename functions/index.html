<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html lang="en">
<head>
  <title>Apply JavaScript example</title>
</head>
<body>
  //
</body>

<script type="text/javascript">
  function d(x) {
    return x
  }
  const a = {
    prop1: 1,
    prop2: {
      g(x) {
        return x
      }
    },
    f(x) {
      return this.prop1 + this.prop2.g(x) + x * x
    }
  }

  var o = {
    m: function() {
      var self = this;
      console.log(this === o);
      f()
      function f() {
        console.log(this === o);
        console.log(self === o);
      }
    }
  }
  const o2 = {
    m: function() {
      console.log(this === o2);
      const f = () => {
        console.log(this === o2);
      }
      f()
    }
  }
  const o3 = {
    m: () => {
      console.log(this);
      const f = () => {
        console.log(this);
      }
      f()
    }
  }
  function h() {
    // const arguments = 0;
    console.log(arguments);
    console.log(arguments.callee);
    console.log(arguments.caller);
  }
  // passing args as object without need to remember their order
  function easy(args) {
    function hard(arg1, arg2, arg3) {
      return 2 * arg1 + arg2 - arg3
    }
    return hard(args.first || 0, args.second, args.third)
  }
  // functions as data
  const a1 = [(x) => {return x}, 20]
  console.log(a1[0](a1[1]));
  const a2 = {
    a3: function(x) {
      return 2 * x
    }
  }
  console.log(a2.a3(a1[1]));

  // properties of function
  const f1 = () => {
    return f1.counter++
  }
  f1.counter = 0
</script>

</html>
